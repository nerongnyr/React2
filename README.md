# React2

## 202230109 나예린

### 240904

1. Next.js

### 240911

2. 렌더링 전략

* 렌더링 전략이란 웹 페이지 또는 웹 애플리케이션을 웹 브라우저에 제공하는 방법을 의미합니다
* 정적인 페이지 제작에는 Gatsby를 추천합니다.
* 서버 사이드 렌더링 전략을 원한다면 다른 프레임워크를 검토

2.1. 서버 사이드 렌더링(SSR)

* 생소할 수 있지만 웹 페이지를 제공하는 가장 흔한 방법입니다
* APM을 이용하는 일반적인 웹 페이지 생성이라고 보면 됩니다.
* 여기에 자바스크립트 코드가 적재되면 동적으로 페이지 내용을 렌더링합니다

* Next.js도 이와 같이 동적으로 페이지를 렌더링할 수 있습니다.
* 그리고 여기에 스크립트 코드를 집어 넣어서 나중에 웹 페이지를 동적으로 처리할 수도 있는데 이를 하이드레이션이라고 합니다.

* 예를 들면 어떤 사람이 작성한 블로그 글을 한 페이지에 모아서 작성해야 한다면 SSR을 이용하는 것이 적당합니다.
* 서버 사이드 렌더링 -> 자바스크립트가 하이드레이션된 페이지를 전송-> 클라이언트에서 DOM 위에 각 스크립트 코드를 하이드레이션: 페이지 새로 고침 없이 사용자와 웹 페이지간 상호작용을 가능하게 합니다

[ SSR의 장점 ]

* 더 안전한 웹 애플리케이션: 쿠키 관리, 주요 API, 데이터 검증 등과 같은 작업을 서버에서 처리하기 떄문에 중요한 데이터를 클라이언트에 노출할 필요가 없기 떄문입니다
* 더 뛰어난 웹 사이트 호환성: 클라이언트 환경이 자바스크립트를 사용하지 못하거나 오래된 브라우저를 사용하더라도 서비스를 제공할 수 있습니다.

SSR이 최적의 렌더링 전략이 아닌 경우

* 클라이언트가 페이지를 요철할 때마다 페이지를 다시 렌더링할 수 있는 서버가 필요합니다.
* 다를 방식에 비해 SSR이 더 많은 자원을 소모하고, 더 많은 부하를 보이며 유지 보수 비용도 증가합니다.
* 페이지에 대한 요청을 처리하는 시간이 길어집니다.
* 페이지가 외부 API 또는 데이터 소스에 접근해야 한다면, 해당 페이지를 렌더링할 때마다 이를 다시 요청해야 합니다.
* 페이지 간의 이동은 CSR에 비해 느립니다

* 중요한 것은 Next.js가 기본적으로 빌드 시점에 정적으로 페이지를 만든다는 것입니다.
* 페이지에서 외부 API를 호출하거나 데이터베이스에 접근하는 등 동적 작업을 해야 한다면 해당하는 함수를 페이지에 export 해야 합니다.

2.2 클라이언트 사이드 렌더링(CSR)

* React앱을 실행하면 렌더링 시작 전에 빈 화면이 한동안 유지되는 것이 보입니다.
* 이는 서버에서 스크립트와 스타일만 포함된HTML을 전송하기 떄문입니다.
* 실제 렌더링은 클라이언트에서 이루어집니다
* CSR로 생성한 앱의 HTML을 보면 div태그 하나밖에 없습니다. 그래서 빈 화면만 보였던 것입니다
* 빌드 과정에서 js와 css파일을 HTML페이지에 불러오도록 만들고 root div에 렌더링합니다
